{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst LOCALSTORAGE_KEY = 'selectedFilters';\nconst formEl = document.querySelector('.feedback-form');\n\ninitForm();\n\nformEl.addEventListener('submit', onFormSubmit);\nformEl.addEventListener('input', throttle(onFormInput, 500));\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  const formData = new FormData(formEl);\n  formData.forEach((value, name) => console.log(value, name));\n  evt.currentTarget.reset();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\nfunction onFormInput(evt) {\n  let persistedFilters = localStorage.getItem(LOCALSTORAGE_KEY);\n  persistedFilters = persistedFilters ? JSON.parse(persistedFilters) : {};\n  persistedFilters[evt.target.name] = evt.target.value;\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(persistedFilters));\n}\n\nfunction initForm() {\n  let persistedFilters = localStorage.getItem(LOCALSTORAGE_KEY);\n  if (persistedFilters) {\n    persistedFilters = JSON.parse(persistedFilters);\n    Object.entries(persistedFilters).forEach(([name, value]) => {\n      formEl.elements[name].value = value;\n    });\n  }\n}"],"names":["LOCALSTORAGE_KEY","formEl","initForm","onFormSubmit","throttle","onFormInput","evt","value","name","persistedFilters"],"mappings":"oFAEA,MAAMA,EAAmB,kBACnBC,EAAS,SAAS,cAAc,gBAAgB,EAEtDC,IAEAD,EAAO,iBAAiB,SAAUE,CAAY,EAC9CF,EAAO,iBAAiB,QAASG,EAASC,EAAa,GAAG,CAAC,EAE3D,SAASF,EAAaG,EAAK,CACzBA,EAAI,eAAc,EACD,IAAI,SAASL,CAAM,EAC3B,QAAQ,CAACM,EAAOC,IAAS,QAAQ,IAAID,EAAOC,CAAI,CAAC,EAC1DF,EAAI,cAAc,QAClB,aAAa,WAAWN,CAAgB,CAC1C,CAEA,SAASK,EAAYC,EAAK,CACxB,IAAIG,EAAmB,aAAa,QAAQT,CAAgB,EAC5DS,EAAmBA,EAAmB,KAAK,MAAMA,CAAgB,EAAI,CAAA,EACrEA,EAAiBH,EAAI,OAAO,IAAI,EAAIA,EAAI,OAAO,MAC/C,aAAa,QAAQN,EAAkB,KAAK,UAAUS,CAAgB,CAAC,CACzE,CAEA,SAASP,GAAW,CAClB,IAAIO,EAAmB,aAAa,QAAQT,CAAgB,EACxDS,IACFA,EAAmB,KAAK,MAAMA,CAAgB,EAC9C,OAAO,QAAQA,CAAgB,EAAE,QAAQ,CAAC,CAACD,EAAMD,CAAK,IAAM,CAC1DN,EAAO,SAASO,CAAI,EAAE,MAAQD,CACpC,CAAK,EAEL"}